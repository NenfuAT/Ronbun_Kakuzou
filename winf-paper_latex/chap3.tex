\section{ウェアラブルデバイスによるトラッキング}
図\ref{fig:1}に本研究の全体像を示す．本研究ではウェアラブルセンサとしてスマートウォッチを使用した.
先行研究\cite{kumazawaanalysis}では加速度のみを用いて推定するものもあるが,推定できる動作がかなり限定的である.
そこで加速度・角速度を組み合わせて,端末の回転量や移動を算出し調理技能の分析に使用する.

\figimage{images/fig1.pdf}{70}{本研究の概要図}{fig:1}

\subsection{データの収集}
スマートウォッチでセンシングを行うアプリを自作し取得した加速度・角速度を使用して推定を行う.
基本的な包丁の握り方だと図\ref{fig:2}のようにウォッチの向きと包丁の刃の向きが一致する.
\figimage{images/fig2.pdf}{70}{ウォッチと刃の向きの相関}{fig:2}
そこで収集するデータとしては,包丁を持つ側の手首の動きをセンシングしたものを使用して包丁の動きの推定を行う.
\subsection{データの加工}
センシングしたデータを用いて端末の回転量と移動の推定を行う.
今回は角速度と加速度にMadgwickフィルタを用いてセンサフージョンを行い回転量をクォータニオンとして導出している.
クォータニオンとは回転の量を表すもので,オイラー角や回転行列と相互に変換可能であり,
上下がわからなくなるジンバルロックという現象が発生しない特徴がある.
求めた回転量を使用して重力加速度を導出し,加速度から重力加速度を取り除き線形加速度を導出している.
しかしこのままでは相対座標に基づいた移動なので,端末の姿勢を変化させながら動かすと異なる座標軸での移動と検出される.
そこで次の式を用いて変換を行う.
\[
\mathbf{a}_{\text{絶対}} = \mathbf{q} \cdot \mathbf{a}_{\text{相対}} \cdot \mathbf{q}^{-1}
\]
絶対座標へ変換すると端末の姿勢が変化した際にも同じ方向に対する移動として検出可能となる.
求めた絶対座標での線形加速度を二重積分して移動距離を導出している.
しかし,このままでは積分により誤差が蓄積しており正しい移動距離が推定できていない.
そこでハイパスフィルタを用いて,積分誤差の軽減をしている.
3.2で述べたように端末と包丁の動作は連動しているため,本推定手法により包丁の移動・角度を求められる.


